"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.joinLines = exports.trim = exports.hsection = exports.h = void 0;
const handlebars_1 = require("handlebars");
function h(hsublevel, opts) {
    const { hlevel } = getHLevel(hsublevel, opts);
    return new Array(hlevel).fill('#').join('');
}
exports.h = h;
;
function hsection(hsublevel, opts) {
    let hlevel;
    ({ hlevel, opts } = getHLevel(hsublevel, opts));
    opts.data = handlebars_1.Utils.createFrame(opts.data);
    opts.data.hlevel = hlevel;
    return opts.fn(this, opts);
}
exports.hsection = hsection;
/**
 * Helper for dealing with the optional hsublevel argument.
 */
function getHLevel(hsublevel, opts) {
    var _a, _b;
    if (typeof hsublevel === 'number') {
        opts = opts;
        hsublevel = Math.max(1, hsublevel);
    }
    else {
        opts = hsublevel;
        hsublevel = 1;
    }
    const contextHLevel = (_b = (_a = opts.data) === null || _a === void 0 ? void 0 : _a.hlevel) !== null && _b !== void 0 ? _b : 0;
    return { opts, hlevel: contextHLevel + hsublevel };
}
function trim(text) {
    if (typeof text === 'string') {
        return text.trim();
    }
}
exports.trim = trim;
function joinLines(text) {
    if (typeof text === 'string') {
        return text.replace(/\n+/g, ' ');
    }
}
exports.joinLines = joinLines;
//# sourceMappingURL=helpers.js.map